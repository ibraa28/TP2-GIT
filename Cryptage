import string

def crypt(message, pas):

    caracteres = string.ascii_letters + string.digits + string.punctuation + " "
    resultat = ""
    for char in message:
        index = caracteres.find(char)
        if index != -1:
            nouveau_index = (index + pas) % len(caracteres)
            resultat += caracteres[nouveau_index]
        else:
            resultat += char
    return resultat + f" (décalage: {pas})"

def decrypt(message):

    # Extraction décalage
    pas = int(message.split(" (décalage: ")[-1][:-1])

    # Décryptage décalage inverse
    caracteres = string.ascii_letters + string.digits + string.punctuation + " "
    resultat = ""
    for char in message.split(" (décalage: ")[0]:
        index = caracteres.find(char)
        if index != -1:
            nouveau_index = (index - pas + len(caracteres)) % len(caracteres)
            resultat += caracteres[nouveau_index]
        else:
            resultat += char
    return resultat

# Test
def test_crypt_decrypt():
    message = "Hola, mmg"
    message_crypte = crypt(message, 3)
    message_decrypte = decrypt(message_crypte)
    assert message_decrypte == message


message_clair = "Hola, mmg"
message_crypte = crypt(message_clair, 3)
print(message_crypte)
message_decrypte = decrypt(message_crypte)
print(message_decrypte)